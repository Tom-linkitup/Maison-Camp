package mail;

public class MailService {
	ubject, String messageText) {
		
		   try {
			   
			   Properties props = new Properties();
			   props.put("mail.smtp.host", "smtp.gmail.com");
			   props.put("mail.smtp.socketFactory.port", "465");
			   props.put("mail.smtp.socketFactory.class","javax.net.ssl.SSLSocketFactory");
			   props.put("mail.smtp.auth", "true");
			   props.put("mail.smtp.port", "465");

	      
		     final String myGmail = "maisoncamping@gmail.com";
		     final String myGmail_password = "2irixiai";
			   Session session = Session.getInstance(props, new Authenticator() {
				   protected PasswordAuthentication getPasswordAuthentication() {
					   return new PasswordAuthentication(myGmail, myGmail_password);
				   }
			   });

			   Message message = new MimeMessage(session);
			   message.setFrom(new InternetAddress(myGmail));
			   message.setRecipients(Message.RecipientType.TO,InternetAddress.parse(to));
			  
			   //�]�w�H�����D��  
			   message.setSubject(subject);
			   //�]�w�H�������e 
			   message.setText(messageText);

			   Transport.send(message);
			   System.out.println("�ǰe���\!");
	     }catch (MessagingException e){
		     System.out.println("�ǰe����!");
		     e.printStackTrace();
	     }
	   }
		
		 public static void main (String args[]){

	      String to = "atom8708@gmail.com";
	      
	      String subject = "�K�X�q��";
	      
	      String ch_name = "peter1";
	      String passRandom = "111";
	      String messageText = "Hello! " + ch_name + " ���԰O���K�X: " + passRandom + "\n" +" (�w�g�ҥ�)"; 
	       
	      MailService mailService = new MailService();
	      mailService.sendMail(to, subject, messageText);

	   }


	}

}
